<app-sidemenu></app-sidemenu>
    <div style="width:95%;height:100vh;float:right;background-color: #fff3eb">
        <app-header></app-header>

        <div class="container-fluid">
            <div class="row head" style="padding:30px 0px 10px 20px">
                <div class="col-md-6">
                    <h5>All Properties</h5>
                </div>
                <div class="col-md-5 offset-md-1 text-right ">
                    <button  type="button" class="btn" routerLink="/addproperty">Add New</button>
                   
                </div>
            </div>
         

        </div>

        <div class="allpropertylist">
            <div class="col-md-12" style="padding-left: 5px">
                    <ul class="tableview">
                            <li class="Sort-by">Sort by</li>
                            <li>
                               <select class="classic" style="height:35px" name="proptype" [(ngModel)]="proptype" (ngModelChange)="clearFilter(proptype)">
                                  <option value =''>Property type</option>
                                  <option value ='Commercial'>Commercial</option>
                                  <option value = 'Residential'>Residential</option>
                               </select>
                               <!-- <select name="num" [(ngModel)]="number">
                                     <option *ngFor="let n of numbers" [value]="n">{{n}}</option>
                                   </select> -->
                            </li>
                            <li class="form-group searchbtn" style="width:380px">
                               <div class="input-group">
                                  <input type="text" name="search" [(ngModel)]="filter" style="border-style: solid;
                                     border-width: 1px 0 1px 1px;
                                     border-color:black;height:34px;border-radius:0" class="form-control input-sm box" name="firstName" placeholder="Search Location, Project or Landmark">
                                  <div class="input-group-append" style="height:34px;">
                                     <button class="btn btn-primary" style="background-color: #fff2ea;border-width: 1px 1px 1px 0;
                                     border-color:black;color:black;border-radius: 0;"> <span class="fa fa-search"></span></button>  
                                  </div>
                               </div>
                            </li>
                         </ul>
    
            </div>

            <table class="table">
                    <thead>
                            <th></th>
                            <th [class.active]="order === 'id'"
                            (click)="setOrder('propertyid')">Property ID <span [hidden]="reverse">↓</span
                               ><span [hidden]="!reverse">↑</span></th>

                            <th [class.active]="order === 'project'"
                            (click)="setOrder('project')">Project <span [hidden]="reverse">↓</span
                                ><span [hidden]="!reverse">↑</span></th>   
                            
                            <th [class.active]="order === 'builder'"
                            (click)="setOrder('builder')" >Builder <span [hidden]="reverse">↓</span
                                ><span [hidden]="!reverse">↑</span></th>      
 
                            <th [class.active]="order === 'surveyor'"
                            (click)="setOrder('surveyor')" >Surveyor <span [hidden]="reverse">↓</span
                               ><span [hidden]="!reverse">↑</span></th>

                            <th [class.active]="order === 'expert'"
                            (click)="setOrder('expert')" >Expert <span [hidden]="reverse">↓</span
                                ><span [hidden]="!reverse">↑</span></th>  
                               
                            <th [class.active]="order === 'projecttype'"
                            (click)="setOrder('projecttype')">Project type <span [hidden]="reverse">↓</span
                               ><span [hidden]="!reverse">↑</span></th>  
                               
                            <th [class.active]="order === 'updated_date'"
                            (click)="setOrder('updated_date')"> Updated Date <span [hidden]="reverse">↓</span
                               ><span [hidden]="!reverse">↑</span></th>

                            <th [class.active]="order === 'status'"
                            (click)="setOrder('status')"> Status <span [hidden]="reverse">↓</span
                                ><span [hidden]="!reverse">↑</span></th>   
                         </thead>


             
                <tbody>
                      <tr *ngFor="let property of table  | orderBy: order:reverse| paginate: { itemsPerPage: 5, currentPage: p, totalItems: total}  | filter:filter; let i = index">
                        <td><input type="checkbox"></td>
                        <td style="font-weight:500;padding-left:40px">{{property.propCode}}</td>
                        <td routerLink="/allpropertydetails" style="font-weight:500;">{{property.project_name}}</td>
                        <td>{{property.builder | titlecase}}</td>
                        <td>{{property.surveyor | titlecase}}</td>
                        <td>Mukesh Desai</td>
                        <td>{{property.prop_type}}</td>
                        <td>{{property.prop_date | date}}</td>
                        <td><span *ngIf="property.status=='pending'" class="dot2"></span>
                            <span *ngIf="property.status=='rejected'" class="dot4"></span>
                            <span style="background-color: #f7f7f7;padding:5px">{{property.status | titlecase}}</span>
                        </td>
                        <td style="width:20px">
                            <div class="dropdown">
                                <div class="container4" id="menu1" data-toggle="dropdown">
                                        <div class="bar1"></div>
                                        <div class="bar2"></div>
                                        <div class="bar3"></div>
                                </div>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#">View Details</a></li>
                                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Download Reports</a></li>
                                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Location</a></li>
                                        <li role="presentation" class="divider"></li>
                                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Delete</a></li>    
                                      </ul>

                            </div>
                           
                        </td>
                      </tr> 

                </tbody>
            </table>
            <pagination-controls (pageChange)="p = $event" style="float:right;margin-top:10px"></pagination-controls>

        </div>

    </div>    